
  <table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">Photo</th>
        <th scope="col">Name</th>
        <th scope="col" id="th1">Pending</th>
        <th scope="col" id="th2">Accepted</th>
        <th scope="col" id="th3">Rejected</th>
      </tr>
    </thead>
    <% if !@pieces.empty? %>
      <tbody>
      <% @pieces.each do |piece|%>
        <tr>
          <td><%= cl_image_tag piece.photos.first.key, class: "thumbnail-bordered" %></td>
          <td><%= piece.name %></td>
          <td headers="th1"><%= piece.transactions.where(status: "pending").count %></td>
          <td headers="th2"><%= piece.transactions.where(status: "accepted").count %></td>
          <td headers="th3"><%= piece.transactions.where(status: "rejected").count %></td>
          <td>
            <div class="d-grid gap-2 col-6 mx-auto">
              <button type="button" class="btn btn-outline-warning">
                <div class="dropdown-item" data-bs-toggle="modal" data-bs-target="#modalEditPiece<%= @pieces.first.id %>" style="cursor: pointer">
                  Edit
                </div>
              </button>
              <%= link_to "Delete",
                  profile_path(@piece),
                  data: {turbo_method: :delete, turbo_confirm: "Are you sure?"},
                  class:"text", class:"btn btn-outline-danger"
                  %>
            </div>
          </td>

      <% end %>

        </tr>
      </tbody>

      <%= render 'pieces/edit_piece' %>
    <%else%>
        <p> You have any piece yet.</p>
        <div class="nav-link" data-bs-toggle="modal" data-bs-target="#modalNewPiece" style="cursor: pointer">
          Add a new piece to rent
        </div>
    <% end %>
  </table>
